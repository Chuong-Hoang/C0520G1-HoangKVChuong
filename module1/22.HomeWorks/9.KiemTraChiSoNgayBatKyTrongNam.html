<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>kiểm tra ngày bao nhiêu của năm</title>
</head>
<body>
<script>
    let dayString = prompt('Input a string of day:');
    alert('Chi so ngay cua nam la: ' + checkDayIndexOfYear(dayString));

    // Check leap year
    function isLeapYear(year) {
        if (year % 4 === 0) {
            if (year % 100 === 0) {
                if (year % 400 === 0) {
                    return true;
                    //alert(year + " is a leap year");
                } else {
                    return false;
                    //alert(year + " is NOT a leap year");
                }
            } else {
                return true;
                //alert(year + " is a leap year");
            }
        } else {
            return false;
            //alert(year + " is NOT a leap year");
        }
    }

    // Number of days in a month
    function datePerMonth(month){
        let quantity = 0;
        switch (month+1){ // Plus 1
            case 1:
            case 3:
            case 5:
            case 7:
            case 8:
            case 10:
            case 12:
                quantity = 31;
                break;
            case 4:
            case 6:
            case 9:
            case 11:
                quantity = 30;
                break;
            case 2:
                quantity = 28;
                break;
        }
        return quantity;
    }

    // Check index of day in the year
    function checkDayIndexOfYear(dayString){
        let dateIndex = 0;
        let day = new Date(dayString);
        let dd = day.getDate();
        //alert(dd);
        let mm = day.getMonth();
        //alert(mm);
        let yyyy = day.getFullYear();
        for(let i = 0; i < mm; i++) {
              dateIndex += datePerMonth(i);
        }
        if(mm >= 2 && isLeapYear(yyyy)){
            dateIndex += 1;
        }
        return dateIndex + dd;
    }
</script>
</body>
</html>